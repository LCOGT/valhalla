{% extends "base.html" %}
{% load static %}
{% block title %}Create New Request {% endblock %}
{% block content %}
{% verbatim %}
<div id="vueapp">
  {{ requests[0].windows }}
  <request :iwindows="requests[0].windows"></request>
</div>

<script type="text/x-template" id="window-template">
  <div class="row window">
    <div class="col-md-12">
      <h2>Window</h2>
      <form class="form-horizontal">
        <div class="form-group">
          <label for="start" class="col-sm-3 control-label">Start</label>
          <div class="col-sm-9">
            <input id="start" class="form-control" v-model="start" v-on:input="update"/>
          </div>
        </div>
        <div class="form-group">
          <label for="end" class="col-sm-3 control-label">End</label>
          <div class="col-sm-9">
            <input id="end" class="form-control" v-model="end" v-on:input="update"/>
          </div>
        </div>
      </form>
    </div>
  </div>
</script>

<script type="text/x-template" id="request-template">
  <div class="row request">
    <div class="col-md-12">
      <h1>Request</h1>
      <div v-for="window in windows">
        <window :istart="window.start" :iend="window.end" v-on:windowUpdate="windowUpdated"></window>
      </div>
    </div>
  </div>
</script>

{% endverbatim %}
{% endblock %}
{% block extra_javascript %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
<script src="{% static 'js/request_create.js' %}"></script>
{% endblock %}
